{{ define "main" }}
<div class="terminal-feed" style="text-align: left !important; display: block !important;">
    
    <div class="posts-list">
        {{ range .Paginator.Pages }}
            {{ partial "feed_item.html" . }}
        {{ end }}
    </div>

    <div style="border-bottom: 1px dashed rgba(255, 62, 62, 0.2); width: 100%; margin: 50px 0;"></div>

    <div class="bottom-system-section">
        <div style="color: #ff3e3e; text-shadow: 0 0 5px #8a0303; font-family: 'Courier New', monospace; margin-bottom: 15px; font-weight: bold;">
            <p style="margin: 0;"><span style="color: #666;">[xoce@darkarch ~]$</span> ls -la /var/log/intel/internal_feed</p>
            <p style="margin: 0;">total {{ len .Site.RegularPages }} objects detected</p>
        </div>
        <div id="active-log-monitor" style="border: 1px solid #ff3e3e; background: rgba(10, 0, 0, 0.95); box-shadow: 0 0 15px rgba(138, 3, 3, 0.2);">
            <div style="background: rgba(255, 62, 62, 0.15); padding: 8px 15px; font-family: monospace; color: #ff3e3e; font-size: 0.8rem; border-bottom: 1px solid #ff3e3e;">
                LIVE_LOG_STREAM: /var/log/ghost-hydra.log --tail -f
            </div>
            <div id="live-log-content" style="padding: 15px; font-family: 'Courier New', monospace; font-size: 0.85rem; color: #ff9999; height: 160px; overflow: hidden;">
            </div>
        </div>
    </div>
</div>

<script>
    (function() {
        const logBox = document.getElementById('live-log-content');
        if (!logBox) return;
        const events = ["OIDC_TOKEN_INTERCEPT: SUCCESS", "GHOST-PIPELINE: PAYLOAD_DELIVERED", "EDR_BYPASS: KERNEL_MODE_ACTIVE"];
        function addEntry() {
            const time = new Date().toLocaleTimeString('en-GB', { hour12: false });
            const event = events[Math.floor(Math.random() * events.length)];
            const div = document.createElement('div');
            div.innerHTML = `<span style="color: #666;">[${time}]</span> <span style="color: #ff3e3e;">[ALERT]</span> ${event}`;
            logBox.appendChild(div);
            if (logBox.childNodes.length > 7) logBox.removeChild(logBox.firstChild);
        }
        setInterval(addEntry, 3500); addEntry();
    })();
</script>
{{ end }}